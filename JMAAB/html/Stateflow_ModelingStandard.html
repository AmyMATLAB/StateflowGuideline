
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Stateflow &#24314;&#27169;&#21442;&#32771;</title><meta name="generator" content="MATLAB 9.1"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2018-12-05"><meta name="DC.source" content="Stateflow_ModelingStandard.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Stateflow &#24314;&#27169;&#21442;&#32771;</h1><!--introduction--><p>&#24494;&#20449;&#20844;&#20247;&#21495;&#65306;simscpae</p><p>&#26681;&#25454; JMAABV4.01(201503)  &#25972;&#29702;</p><div><ul><li><a href="https://www.mathworks.com/solutions/automotive/standards/maab.html">https://www.mathworks.com/solutions/automotive/standards/maab.html</a></li></ul></div><div><ul><li>Priority: Mandatory&#24517;&#39035; / Strongly Recommended&#24378;&#28872;&#24314;&#35758; / recommended&#24314;&#35758;</li></ul></div><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">5.1.&#21464;&#37327;&#35774;&#23450;</a></li><li><a href="#2">2.&#29366;&#24577;&#27169;&#22411;&#22522;&#26412;&#22806;&#35266;</a></li><li><a href="#3">3.&#29366;&#24577;&#21517;</a></li><li><a href="#4">4.&#26465;&#20214;&#20197;&#21450;&#26465;&#20214;&#35821;&#21477;</a></li><li><a href="#5">5 &#29366;&#24577;&#36801;&#31227;</a></li><li><a href="#6">6 &#29366;&#24577;&#20869;&#37096;&#36339;&#36716;</a></li><li><a href="#7">7 &#27969;&#31243;&#22270;&#22522;&#26412;&#35268;&#21017;</a></li><li><a href="#8">8 &#27969;&#31243;&#22270;&#32454;&#33410;&#35268;&#21017;</a></li><li><a href="#9">9 &#20107;&#20214;</a></li><li><a href="#10">10.Stateflow &#20869;&#30340;&#20989;&#25968;</a></li><li><a href="#11">&#23450;&#28857;&#25968;</a></li></ul></div><h2 id="1">5.1.&#21464;&#37327;&#35774;&#23450;</h2><p><b>1.1 &#24378;&#28872;&#24314;&#35758;</b>&#25152;&#26377;&#30340; Stateflow &#27169;&#22359;&#30340;&#36755;&#20837;&#36755;&#20986;&#31471;&#21475;&#21517;&#19982;&#23545;&#24212;&#30340;&#20449;&#21495;&#21517;&#30456;&#21516;&#65292;&#38500;&#38750;&#26159;&#37325;&#29992;&#30340; Chart &#12290;</p><div><ul><li>&#36825;&#21482;&#26159;&#20026;&#20102;&#25552;&#39640;&#27169;&#22411;&#30340;&#21487;&#35835;&#24615;&#65292;&#19981;&#24433;&#21709;&#20195;&#30721;&#29983;&#25104;&#65292;&#29983;&#25104;&#30340;&#20195;&#30721;&#30340;&#36755;&#20837;&#20351;&#29992;&#30340;&#26159;&#20449;&#21495;&#32447;&#19978;&#30340;&#25968;&#25454;&#23545;&#35937;&#12290;</li><li>&#25171;&#24320;&#27169;&#22411; <a href="matlab:SF5_1_2_jc0700_2">SF5_1_2_jc0700_2</a>&#65292;&#29983;&#25104;&#20195;&#30721;&#65292;&#26597;&#30475;&#20004;&#20010; chart &#20195;&#30721;&#30340;&#21464;&#37327;&#21517;&#23383;&#12290;</li></ul></div><p><b>1.2 &#24378;&#28872;&#24314;&#35758;</b>&#26410;&#20351;&#29992;&#30340;&#25968;&#25454;&#19981;&#24212;&#35813;&#30041;&#22312; Stateflow &#27169;&#22359;&#37324;&#12290;</p><div><ul><li>&#25171;&#24320;&#27169;&#22411;&#65306; <a href="matlab:SF5_1_2_jc0700_2">SF5_1_2_jc0700_2</a>&#65292;</li><li>&#36825;&#37324;&#35774;&#32622;&#20102;&#20004;&#20010;&#27809;&#29992;&#21040;&#30340;&#21464;&#37327;&#65306;&#27169;&#22411;&#32423;&#21035;&#30340; local&#65292;Chart&#32423;&#21035;&#30340; data&#65307; <a href="matlab:winopen('sfwl_sd23.png')">&#28857;&#25105;</a>&#12290;</li><li>&#29983;&#25104;&#20195;&#30721;&#65292;&#21487;&#20197;&#30475;&#21040; local &#29983;&#25104;&#20102;&#20887;&#20313;&#20195;&#30721;&#65292;&#32780; data &#21464;&#37327;&#24182;&#27809;&#26377;&#12290;</li><li>&#21478;&#22806;&#35786;&#26029;&#24037;&#20855;(2010b&#20197;&#21518;)&#65306; <a href="matlab:winopen('stateflow_unusedData.jpg')">&#28857;&#25105;</a>&#65292; &#21487;&#20197;&#35786;&#26029;&#22312; Stateflow &#20869;&#30340;&#20887;&#20313;&#21464;&#37327; data&#65292;&#20294;&#26159;&#19981;&#21253;&#25324; Stateflow &#20043;&#22806;&#23450;&#20041;&#30340; local&#12290;&#65288;&#27979;2016b&#19981;&#33021;&#21028;&#26029;&#20986; data&#21644;local)</li></ul></div><p>1.3 &#19982; Simulink &#30340;&#25509;&#21475;&#20449;&#21495;&#20197;&#21450;&#21442;&#25968;&#21246;&#36873;&#24378;&#25968;&#25454;&#31867;&#22411;&#36873;&#39033;(09a&#20043;&#21069;)</p><div><ul><li>&#25171;&#24320;&#27169;&#22411;&#65306; <a href="matlab:SF5_1_3_db0122_3">SF5_1_3_db0122_3</a>&#65292;</li><li>&#23558; Chart &#36755;&#20837;&#36755;&#20986;&#24050;&#25351;&#23450;&#30340;&#25968;&#25454;&#31867;&#22411;&#35774;&#32622;&#20026;&#32487;&#25215;&#65292;&#20223;&#30495;&#20250;&#20986;&#38169;&#12290;</li></ul></div><p><b>1.4 &#24378;&#28872;&#24314;&#35758;</b>&#23450;&#20041;Stateflow &#21464;&#37327;&#24517;&#39035;&#31526;&#21512;&#20197;&#19979;&#35268;&#33539;&#65306;</p><div><ul><li>&#25152;&#26377;&#30340;&#23616;&#37096;&#21464;&#37327;&#37117;&#24517;&#39035;&#23450;&#20041;&#22312; Chart level&#21450;&#20197;&#19979;&#65292; &#19981;&#35201;&#23450;&#20041;&#22312;&#27169;&#22411;&#32423;&#21035; <a href="matlab:winopen('stateflow_datadefine.jpg')">&#28857;&#25105;</a></li><li>&#19981;&#21516;&#30340; chart &#20043;&#38388;&#19981;&#35201;&#35774;&#32622;&#20844;&#20849;&#21464;&#37327;&#65292;&#38500;&#38750;&#24120;&#25968;&#21644;&#21442;&#25968;&#65307;</li><li>&#23884;&#22871;&#23618;&#20043;&#38388;&#30340;&#21464;&#37327;&#23450;&#20041;&#19981;&#35201;&#20351;&#29992;&#30456;&#21516;&#21517;&#23383;&#12290;</li></ul></div><p><b>1.5 Chart&#35774;&#32622;&#20026;C&#35821;&#27861;&#30340;&#26102;&#20505;&#65292;&#21521;&#37327;&#30340;&#40664;&#35748;&#20174; 0 &#24320;&#22987;&#65292;&#20063;&#21487;&#20197;&#35774;&#32622;&#20026;&#20174; 1 &#24320;&#22987;&#65292;</b> <a href="matlab:winopen('stateflow_dataindex.jpg')">&#28857;&#25105;</a>&#12290; &#40664;&#35748;&#20174;0&#24320;&#22987;&#12290;</p><div><ul><li>&#25171;&#24320;&#27169;&#22411;&#65306; <a href="matlab:SF5_1_5_jc0701_1">SF5_1_5_jc0701_1</a>&#65292;</li><li>&#19978;&#19979;&#20004;&#20010; Chart &#30340;&#20195;&#30721;&#23436;&#20840;&#19968;&#26679;&#65292;&#19981;&#21516;&#22312;&#20110;&#19978;&#38754;&#26159; C &#20195;&#30721;&#65292;&#19979;&#38754;&#26159; M &#20195;&#30721;&#65292;&#20223;&#30495;&#26597;&#30475;&#32467;&#26524;&#65307;</li><li>&#35774;&#32622; C chart &#30340; param &#21464;&#37327;&#30340; First Index &#23646;&#24615;&#20026; 1&#65292;&#20877;&#27425;&#26597;&#30475;&#32467;&#26524;&#12290;</li></ul></div><p>1.6 &#24314;&#35758;&#21442;&#25968;&#20197;&#21450;&#24120;&#25968;&#19981;&#35201;&#22312;&#27169;&#22411;&#37324;&#30452;&#25509;&#20351;&#29992;&#25968;&#23383;&#12290; &#20351;&#29992; '0'&#32473;&#21464;&#37327;&#36171;&#21021;&#20540;&#65292;&#25110;&#32773;&#20351;&#29992; '1' &#20316;&#20026;&#33258;&#22686;&#25110;&#33258;&#20943;&#36816;&#31639;&#38500;&#22806;&#12290; <a href="matlab:winopen('stateflow_param.jpg')">&#28857;&#25105;</a></p><p><b>1.7 &#24378;&#28872;&#24314;&#35758;</b> &#22312; Stateflow &#37324;&#19981;&#24212;&#35813;&#20351;&#29992;&#25351;&#38024;&#26469;&#24341;&#29992;&#29992;&#25143;&#33258;&#23450;&#20041;&#20195;&#30721;&#37324;&#30340;&#21464;&#37327;&#12290; &#23613;&#37327;&#19981;&#35201;&#20351;&#29992;&#25351;&#24341;&#24341;&#29992;&#30340;&#26041;&#24335;&#26469;&#35775;&#38382;&#24213;&#23618;&#30828;&#20214;&#65292;&#32780;&#26159;&#20197;&#20449;&#21495;&#30340;&#26041;&#24335;&#12290;</p><div><ul><li>&#25171;&#24320;&#28304;&#25991;&#20214;&#23450;&#20041;&#30340;&#21464;&#37327;&#21644;&#25351;&#38024;&#21464;&#37327;&#65306; <a href="matlab:winopen('SF5_1_7_jm0011_NotUsePoint.h')">SF5_1_7_jm0011_NotUsePoint.h</a>&#65307; <a href="matlab:winopen('SF5_1_7_jm0011_NotUsePoint.c')">SF5_1_7_jm0011_NotUsePoint.c</a>&#65307;</li><li>&#25171;&#24320;&#27169;&#22411;&#65306; <a href="matlab:SF5_1_7_jm0011_NotUsePoint">SF5_1_7_jm0011_NotUsePoint</a>&#65307;</li></ul></div><p>&#36825;&#24182;&#19981;&#26159;&#35828;&#31105;&#27490;&#22312;&#29992;&#25143;&#33258;&#23450;&#20041;&#20195;&#30721;&#37324;&#20351;&#29992;&#25351;&#38024;&#12290; Stateflow &#37324;&#21487;&#20197;&#20197;&#24341;&#29992;&#30340;&#26041;&#24335;&#35775;&#38382; C &#20195;&#30721;&#37324;&#23450;&#20041;&#30340;&#21464;&#37327;&#12290; &#20294;&#26159;&#20351;&#29992;&#27169;&#22411;&#20869;&#27809;&#26377;&#23450;&#20041;&#30340;&#20449;&#21495;&#65292;&#20250;&#24433;&#21709;&#27169;&#22411;&#30340;&#21487;&#35835;&#24615;&#12290; &#25152;&#20197;&#34429;&#28982;&#27809;&#26377;&#20005;&#26684;&#31105;&#27490;&#20351;&#29992;&#25351;&#38024;&#65292;&#26368;&#22909;&#36824;&#26159;&#19981;&#35201;&#29992;&#12290;</p><h2 id="2">2.&#29366;&#24577;&#27169;&#22411;&#22522;&#26412;&#22806;&#35266;</h2><p><b>2.1 &#24378;&#28872;&#24314;&#35758;</b> &#36339;&#36716;&#31661;&#22836;&#19981;&#35201;&#19982;&#20854;&#20182;&#27169;&#22411;&#20803;&#32032;&#20132;&#21449;&#12289;&#37325;&#21472;&#12290;</p><p>2.2 &#22312;&#20219;&#20309;&#19968;&#23618;&#65292;&#22914;&#26524;&#26159;&#20114;&#26021;&#20851;&#31995; <b>&#24517;&#39035;</b> &#33267;&#23569;&#26377;&#20004;&#20010;&#20114;&#26021;&#29366;&#24577;&#20197;&#19978;&#12290;</p><p>2.3 &#22914;&#26524;&#20351;&#29992;&#38500;&#27861;&#65292; <b>&#24314;&#35758;</b> &#35201;&#26377;&#19968;&#23450;&#30340;&#27969;&#31243;&#36991;&#20813;&#38500;&#38646;&#30340;&#24773;&#20917;&#21457;&#29983;&#12290;</p><p><b>2.4 &#24378;&#28872;&#24314;&#35758;</b> &#40664;&#35748;&#36339;&#36716;&#31661;&#22836;&#31526;&#21512;&#20197;&#19979;&#35268;&#33539;</p><div><ul><li>&#20301;&#32622;&#25918;&#22312;&#26368;&#24038;&#19978;&#35282;&#30340;&#26126;&#26174;&#20301;&#32622;&#65292; <a href="matlab:SF5_2_4_jc0531_2_A">SF5_2_4_jc0531_2_A</a>&#65307;</li><li>&#21516;&#19968;&#23618;&#31105;&#27490;&#20986;&#29616;&#22810;&#20010;&#40664;&#35748;&#36339;&#36716;&#31661;&#22836;&#65292; <a href="matlab:SF5_2_4_jc0531_2_B">SF5_2_4_jc0531_2_B</a>&#65307;</li><li>&#22788;&#20110;&#29366;&#24577;&#20869;&#37096;&#30340;&#40664;&#35748;&#31661;&#22836;&#22914;&#26524;&#36830;&#22312; Junction &#19978;&#30340;&#35805;&#24517;&#39035;&#35201;&#26377;&#19968;&#20010;&#26080;&#26465;&#20214;&#36335;&#24452;&#21040;&#36798;&#26576;&#19968;&#20010;&#29366;&#24577;&#65307; &#21542;&#21017;&#20250;&#20986;&#38169;&#65306; <a href="matlab:SF5_2_4_jc0531_2_C">SF5_2_4_jc0531_2_C</a>, &#21478;&#22806;&#65292;&#21487;&#20197;&#36890;&#36807;&#35774;&#32622;&#35786;&#26029;&#33756;&#21333;&#26469;&#26816;&#26597;&#36825;&#20010;&#37197;&#32622;, <a href="matlab:winopen('stateflow_diagnostic.jpg')">&#28857;&#25105;</a>&#12290;</li></ul></div><p>2.5 <b>&#24517;&#39035;</b> &#21462;&#28040;&#21246;&#36873; 'Execute(enter) Chart At Initialization'&#12290;</p><p>2.6 &#24314;&#35758;&#38480;&#21046;&#21333;&#20010;&#35270;&#22270;&#37324;&#30340;&#29366;&#24577;&#23618;&#25968;&#12290;&#27604;&#22914;&#65292;&#38480;&#21046;&#22312; 3 &#23618;&#20197;&#20869;&#12290; &#22914;&#26524;&#36229;&#20986;&#36825;&#20010;&#33539;&#22260;&#65292;&#23601;&#25226;&#20869;&#23618;&#20570;&#25104; Subchart &#65292;&#27604;&#22914;&#65306; <a href="matlab:winopen('stateflow_layerNum.jpg')">&#28857;&#25105;</a></p><p>2.7 &#24314;&#35758;&#38480;&#21046;&#21333;&#20010;&#35270;&#22270;&#20869;&#21487;&#35265;&#30340;&#29366;&#24577;&#20010;&#25968;&#65292;&#19968;&#33324; 6 &#21040; 9 &#20010;&#12290; <a href="matlab:winopen('stateflow_stateNum.jpg')">&#28857;&#25105;</a></p><p>2.8 &#24403;&#29366;&#24577;&#26426;&#38590;&#20197;&#22312;&#19968;&#20010;&#35270;&#22270;&#19978;&#34920;&#36798;&#28165;&#26970;&#26102;&#65292;&#20351;&#29992; Subshart &#12290;</p><p><b>2.9 &#24378;&#28872;&#24314;&#35758;</b> &#19981;&#35201;&#20026;&#20102;&#36827;&#34892;&#29366;&#24577;&#20998;&#32452;&#32780;&#28389;&#29992;&#24182;&#34892;&#29366;&#24577;&#12290; &#27604;&#22914;&#36825;&#22235;&#20010;&#24182;&#34892;&#29366;&#24577; <a href="matlab:winopen('stateflow_parastate.jpg')">&#28857;&#25105;</a>&#65292; &#19981;&#35201;&#20026;&#20102;&#20998;&#32452;&#32780;&#22686;&#21152;&#22810;&#20313;&#30340;&#29238;&#29366;&#24577;&#65306; <a href="matlab:winopen('stateflow_paramState2.jpg')">&#28857;&#25105;</a></p><p>2.10 &#25968;&#25454;&#35201;&#23450;&#20041;&#22312;&#25152;&#20351;&#29992;&#30340;&#29366;&#24577;&#33539;&#22260;&#20869;&#65292;&#38500;&#38750;&#20004;&#20010;&#25110;&#22810;&#20010;&#24182;&#34892;&#29366;&#24577;&#38656;&#35201;&#29992;&#21040;&#21516;&#19968;&#20010;&#25968;&#25454;&#12290;</p><p><b>2.11 &#24378;&#28872;&#24314;&#35758;</b> &#31105;&#27490;&#20174;&#22806;&#37096;&#29366;&#24577;&#30452;&#25509;&#36339;&#36716;&#21040;&#23376;&#29366;&#24577;&#12290; &#20294;&#26159;&#20174;&#23376;&#29366;&#24577;&#30452;&#25509;&#36339;&#21040;&#22806;&#37096;&#29238;&#29366;&#24577;&#26159;&#21487;&#33021;&#30340;&#65292; <a href="matlab:winopen('stateflow_transiton.jpg')">&#28857;&#25105;</a>&#12290; &#36825;&#26679;&#32771;&#34385;&#26159;&#22240;&#20026;&#23481;&#26131;&#21106;&#35010;&#29366;&#24577;&#23553;&#35013;&#30340;&#27010;&#24565;&#65292;&#24341;&#36215;&#19981;&#24517;&#35201;&#30340;&#38169;&#35823;&#12290;</p><h2 id="3">3.&#29366;&#24577;&#21517;</h2><p>3.1 Chart &#20869;&#30340;&#29366;&#24577;&#19981;&#33021;&#37325;&#21517;&#65292;&#20294;&#26159; Atomic sub-chart&#21487;&#20197;&#35270;&#20026;&#21333;&#29420;&#30340; chart&#12290; &#20063;&#23601;&#26159;&#35828;&#21516;&#19968;&#20010;&#20803;&#32990;&#23376;&#29366;&#24577;&#20869;&#37096;&#29366;&#24577;&#19981;&#33021;&#37325;&#21517;&#65292;&#19981;&#21516;&#30340;&#20803;&#32990;&#23376;&#29366;&#24577;&#20869;&#37096;&#21487;&#20197;&#26377;&#30456;&#21516;&#30340;&#21517;&#23383;&#12290; <a href="matlab:stateflow_uniqueStatename">stateflow_uniqueStatename</a>&#12290;</p><p>3.2 &#29366;&#24577;&#21517;&#23383;&#19981;&#33021;&#21253;&#21547;/&#21495;&#12290;</p><p><b>3.3 &#24378;&#28872;&#24314;&#35758;</b> &#29366;&#24577;&#21517;&#19982;&#21464;&#37327;&#21517;&#19981;&#24471;&#30456;&#21516;&#12290; <a href="matlab:winopen('stateflow_statename.jpg')">&#28857;&#25105;</a></p><p>3.4 &#29366;&#24577;&#20869;en&#12289;du&#20197;&#21450;ex&#24517;&#39035;&#25353;&#29031;&#36825;&#20010;&#39034;&#24207;&#26469;&#20889;&#12290;&#22914;&#26524;&#26377;&#32452;&#21512;&#30340;&#27604;&#22914;en,du&#65292;&#21017;&#20889;&#22312;&#26368;&#19978;&#38754;&#25110;&#32773;&#26368;&#19979;&#38754;&#12290; <a href="matlab:winopen('stateflow_actionorder.jpg')">&#28857;&#25105;</a></p><p>3.5 &#24314;&#35758;&#21516;&#31181;&#31867;&#22411;&#30340;&#21629;&#20196;&#35821;&#21477;&#21482;&#20889;&#19968;&#36941;&#12290; <a href="matlab:winopen('stateflow_action.jpg')">&#28857;&#25105;</a></p><p>3.6 &#24314;&#35758;&#19981;&#35201;&#20351;&#29992;exit&#65292;&#22914;&#26524;&#21487;&#20197;&#26367;&#25442;&#25104;&#23545;&#24212;&#30340;entry&#12290; &#26126;&#30830;&#26174;&#31034;&#20986;&#23558;&#20250;&#22312;&#20160;&#20040;&#29366;&#24577;&#19979;&#25191;&#34892;&#35813;&#35821;&#21477;&#12290;</p><p>3.7~12 &#19968;&#20123;&#29366;&#24577;&#35821;&#21477;&#30340;&#20070;&#20889;&#35268;&#33539;&#65306; <a href="matlab:stateflow_stateLanguage">stateflow_stateLanguage</a>&#12290;</p><p>3.13 &#29992;&#20110;&#29366;&#24577;&#36339;&#36716;&#21028;&#26029;&#30340;&#21464;&#37327;&#65292;&#24314;&#35758;&#19981;&#35201;&#20351;&#29992; du &#26469;&#26356;&#26032;&#12290; &#22240;&#20026; du &#35821;&#21477;&#26159;&#22312;&#24403;&#21069;&#36339;&#36716;&#21028;&#26029;&#22833;&#36133;&#65292;&#36820;&#22238;&#29366;&#24577;&#21518;&#25165;&#20250;&#25191;&#34892;&#12290; &#25152;&#20197;&#20250;&#36896;&#25104;&#65292;&#36339;&#36716;&#26465;&#20214;&#28385;&#36275;&#21518;&#24310;&#36831;&#19968;&#20010;&#37319;&#26679;&#26102;&#38388;&#27493;&#25165;&#36339;&#36716;&#12290; <a href="matlab:stateflow_transitionUpdate">stateflow_transitionUpdate</a>&#12290;</p><h2 id="4">4.&#26465;&#20214;&#20197;&#21450;&#26465;&#20214;&#35821;&#21477;</h2><p>4.1 <b>&#24378;&#28872;&#24314;&#35758;</b>&#20889;Action&#35821;&#21477;&#26102;&#65292;&#19977;&#20010;&#20197;&#20869;&#30340;&#36816;&#31639;&#31526;&#21487;&#20197;&#20889;&#22312;&#19968;&#34892;&#65292;&#36229;&#20986;&#19977;&#20010;&#21017;&#20998;&#34892;&#20889;&#65292;&#24182;&#27880;&#24847;&#36816;&#31639;&#31526;&#23545;&#40784;&#12290; &#22914;&#26524;&#28041;&#21450;&#21040;&#19981;&#21516;&#36816;&#31639;&#31526;&#65292;&#21017;&#38656;&#35201;&#29992;&#25324;&#21495;&#26174;&#24335;&#27880;&#26126;&#20248;&#20808;&#32423;&#12290; <a href="matlab:Stateflow_action">Stateflow_action</a> &#22914;&#26524;&#30456;&#21516;&#30340;&#22797;&#26434;&#26465;&#20214;&#34987;&#22810;&#27425;&#35843;&#29992;&#65292;&#21487;&#20197;&#32771;&#34385;&#20570;&#25104;&#19968;&#20010; flow graph function&#12290;</p><p>4.2 <b>&#24314;&#35758;</b>&#26465;&#20214;&#19982;&#25191;&#34892;&#35821;&#21477;&#30340;&#25918;&#32622;&#20301;&#32622;&#38656;&#35201;&#27169;&#22411;&#20869;&#32479;&#19968;&#65292;&#25512;&#33616;&#20889;&#22312;&#36339;&#36716;&#31661;&#22836;&#30340;&#38752;&#36817;&#36215;&#28857;&#31471;&#65292;&#20063;&#21487;&#20197;&#20889;&#22312;&#36339;&#36716;&#31661;&#22836;&#20013;&#38388;&#12290; &#30446;&#30340;&#23601;&#26159;&#26126;&#30830;&#26174;&#31034;&#20986;&#26465;&#20214;/&#25191;&#34892;&#35821;&#21477;&#30340;&#24402;&#23646;&#65292;&#24182;&#19988;&#39118;&#26684;&#32479;&#19968;&#12290;</p><p>4.3 <b>&#24314;&#35758;</b>&#36339;&#36716;&#31661;&#22836;&#30340;&#27880;&#37322;&#35821;&#21477;&#21487;&#20197;&#25918;&#22312;&#26465;&#20214;/&#25191;&#34892;&#35821;&#21477;&#30340;&#19978;&#37096;&#12290;</p><p>4.4 <b>&#20005;&#26684;&#20445;&#35777;</b>&#38500;&#20102;&#26368;&#21518;&#19968;&#20010;&#31661;&#22836;&#65292;&#38656;&#35201;&#27880;&#24847;&#36801;&#31227;&#26465;&#20214;&#30340;&#35774;&#32622;&#12290; <a href="matlab:Stateflow_actioncondition">Stateflow_actioncondition</a></p><p>4.5 <b>&#25512;&#33616;</b>&#20889;&#25191;&#34892;&#35821;&#21477;&#30340;&#26102;&#20505;&#65292;&#21069;&#21518;&#25324;&#21495;&#21333;&#29420;&#22312;&#19968;&#34892;&#65292;&#27599;&#19968;&#21477;&#25191;&#34892;&#35821;&#21477;&#21508;&#21344;&#19968;&#34892;&#24182;&#21518;&#21152;;&#21495;&#12290; <a href="matlab:Stateflow_actioncondition">Stateflow_actioncondition</a></p><h2 id="5">5 &#29366;&#24577;&#36801;&#31227;</h2><p>5.1 <b>&#24314;&#35758;</b>&#29366;&#24577;&#20043;&#38388;&#30340;&#36339;&#36716;&#31661;&#22836;&#35201;&#20040;&#22402;&#30452;&#35201;&#20040;&#27700;&#24179;&#65306; <a href="matlab:Stateflow_statetransition">Stateflow_statetransition</a> &#20026;&#20102;&#26356;&#26126;&#26174;&#34920;&#31034;&#36923;&#36753;&#20851;&#31995;&#65292;&#21487;&#20197;&#29992; Junction &#23558;&#31661;&#22836;&#20998;&#27573;&#65292;&#27700;&#24179;&#31661;&#22836;&#19968;&#33324;&#20889;&#26465;&#20214;&#65292;&#22402;&#30452;&#19968;&#33324;&#20889; Action&#12290; &#36339;&#36716;&#31661;&#22836; <b>&#21315;&#19975;&#19981;&#35201;</b>&#36229;&#20986; parent state &#30340;&#36793;&#30028;,&#20250;&#23548;&#33268; parent state &#24847;&#22806;&#30340;&#37325;&#21551;&#12290;  <a href="matlab:Stateflow_actionlineerror">Stateflow_actionlineerror</a></p><p>5.2 <b>&#24517;&#39035;&#20445;&#35777;</b>&#27809;&#26377;&#36339;&#36716;&#22238;&#27969;(Backtracking)&#65306; <a href="matlab:Stateflow_statebacktracking">Stateflow_statebacktracking</a></p><p>5.3~5 <b>&#24314;&#35758;</b>&#19981;&#35201;&#29992; transition Action&#65292; <b>&#24378;&#28872;&#24314;&#35758;</b>&#19981;&#35201;&#28151;&#29992; conditon action&#19982;transition action&#12290; <a href="matlab:Stateflow_action2">Stateflow_action2</a></p><p>5.6 <b>&#24378;&#28872;&#24314;&#35758;</b>&#25968;&#25454;&#27604;&#36739;&#21482;&#22312;&#30456;&#21516;&#25968;&#25454;&#31867;&#22411;&#20043;&#38388;&#36827;&#34892;&#12290;&#38656;&#35201;&#23545;&#27604;&#19981;&#21516;&#25968;&#25454;&#31867;&#22411;&#26159;&#65292;&#20351;&#29992;&#26174;&#31034;&#30340;&#25968;&#25454;&#36716;&#25442; int16(i)&#12290; &#27880;&#24847;&#26080;&#31526;&#21495;&#25972;&#24418;&#19981;&#35201;&#21644;&#36127;&#25968;&#27604;&#36739;&#12290;</p><p>5.7 <b>&#24378;&#28872;&#24314;&#35758;&#19981;&#35201;&#30452;&#25509;&#23545;&#27604;&#20004;&#20010;&#28014;&#28857;&#25968;&#30456;&#31561;&#12290;</b></p><div><ul><li>&#19981;&#35201;&#30452;&#25509;&#23545;&#27604;&#20004;&#20010;&#28014;&#28857;&#25968;&#30456;&#31561;&#65292;&#27604;&#22914; var1 == var2,var1 ~=var2,var1 ~=var2, &#32780;&#26159;&#20351;&#29992;&#24046;&#20540;&#23567;&#20110;&#26576;&#19968;&#20010;&#26497;&#23567;&#20540;&#30340;&#26041;&#24335;&#12290;&#30452;&#25509;&#27604;&#36739;&#21482;&#21487;&#29992;&#20110;&#25972;&#24418;&#20043;&#38388;&#12290;</li></ul></div><p>5.8 <b>&#24378;&#28872;&#24314;&#35758;&#20301;&#36816;&#31639;&#31526;&amp;&#65292;|&#65292;^&#65292;~&#21482;&#33021;&#29992;&#20110;&#20301;&#36816;&#31639;&#12290;&#36991;&#20813;&#23545;&#26377;&#31526;&#21495;&#25972;&#24418;&#20351;&#29992;&#20301;&#36816;&#31639;&#12290;</b></p><div><ul><li>&#20351;&#29992;&#20043;&#21069;&#65292;&#22312;chart&#23646;&#24615;&#37324;&#21246;&#36873; <b>Enable C-bit operations</b></li><li>&#24067;&#23572;&#25805;&#20316;&#20351;&#29992; &amp;&amp;&#65292;||</li><li>&#22914;&#22270;&#65306; <a href="matlab:winopen('stateflow_bitopp.jpg')">&#28857;&#25105;</a></li></ul></div><p>5.9 <b>&#24378;&#28872;&#24314;&#35758;&#31105;&#27490;&#23545;&#36923;&#36753;&#37327;&#36827;&#34892;&#27604;&#36739;&#36816;&#31639;</b></p><div><ul><li>&#31105;&#27490;&#23545;&#24067;&#23572;&#37327;&#36827;&#34892;&#36923;&#36753;&#25805;&#20316;&#12290;&#24067;&#23572;&#31867;&#22411;&#30340;&#25968;&#25454;&#31105;&#27490;&#19982;&#25968;&#23383;(0,1)&#25110;&#32773;&#36923;&#36753;&#20540;(true, false)&#27604;&#36739;&#36816;&#31639;&#12290; &#32780;&#26159;&#20351;&#29992; NOT&#20043;&#31867;&#30340;&#24067;&#23572;&#36816;&#31639;&#31526;&#65292;~ &#25110;&#32773; &#65281;&#12290;</li><li>&#22914;&#22270;&#65306; <a href="matlab:winopen('stateflow_bitoppBoolean.jpg')">&#28857;&#25105;</a></li></ul></div><p>5.10 <b>&#24378;&#28872;&#24314;&#35758;&#27880;&#24847;&#19981;&#35201;&#23545;&#26080;&#31526;&#21495;&#25972;&#24418;&#21462;&#36127;&#21495;</b></p><p>5.11~13 a++&#65292;&#33258;&#21152;&#25110;&#32773;&#33258;&#20943; <b>&#24517;&#39035;&#35201;&#21333;&#29420;&#20889;&#20026;&#19968;&#20010; action</b></p><p>&#32780;&#19988;&#26465;&#20214;&#37324;&#24517;&#39035;&#26159;&#24067;&#23572;&#37327;&#12290; <a href="matlab:stateflow_incrementsaction">stateflow_incrementsaction</a></p><p>5.14 &#24314;&#35758;&#22312;&#21516;&#19968;&#20010;State&#20869;&#19981;&#35201;&#37325;&#29992;&#21464;&#37327; <a href="matlab:stateflow_reuseVariable">stateflow_reuseVariable</a></p><p>5.15 &#24314;&#35758;&#19981;&#35201;&#30452;&#25509;&#20351;&#29992;&#20989;&#25968;&#34920;&#36798;&#24335;&#20316;&#20026;&#27604;&#36739;&#20540; <a href="matlab:stateflow_function">stateflow_function</a></p><p><b>&#20351;&#29992;&#20107;&#20214;&#36923;&#36753;&#19982;&#35745;&#25968;&#22120;</b> <a href="matlat:winopen('Stateflow_time.jpg')">&#30475;&#22270;</a>&#12290;</p><p><b>&#26377;&#22810;&#20010;&#36339;&#36716;&#26102;&#65292;&#26681;&#25454;&#36339;&#36716;&#30340;&#21487;&#33021;&#24615;&#22823;&#23567;&#36827;&#34892;&#25191;&#34892;&#39034;&#24207;&#25490;&#24207;&#65292;&#20855;&#26377;&#39640;&#23433;&#20840;&#20248;&#20808;&#32423;&#26816;&#26597;&#39033;&#25490;&#22312;&#21069;&#38754;</b> <a href="matlat:winopen('Stateflow_transitionpriority.jpg')">&#30475;&#22270;</a>&#12290;</p><p>&#27604;&#22914;&#22270;&#20013;&#30340; SteadyCruise &#26159;&#26368;&#21487;&#33021;&#30340;&#24773;&#20917;&#65292;&#20294;&#26159;&#22240;&#20026; PlanelsCrashing &#20855;&#26377;&#39640;&#20248;&#20808;&#32423;&#65292;&#25152;&#20197;&#25490;&#22312;&#21069;&#38754;&#12290; &#21478;&#22806;&#65292;&#36825;&#31181;&#24773;&#20917;&#65292;&#25226; PlanelsCrashing&#24403;&#20570;&#20107;&#20214;&#26356;&#21512;&#36866;&#12290;</p><h2 id="6">6 &#29366;&#24577;&#20869;&#37096;&#36339;&#36716;</h2><p><a href="matlab:stateflow_internaltransition">stateflow_internaltransition</a></p><p>6.1 <b>&#24378;&#28872;&#24314;&#35758;</b>&#25152;&#26377;&#30340;&#29366;&#24577;&#30340;&#20869;&#37096;&#36339;&#36716;&#36830;&#32447;&#24517;&#39035;&#22312; State &#26694;&#32447;&#30340;&#24038;&#20391;&#38754;&#12290;</p><p>6.2 <b>&#24378;&#28872;&#24314;&#31435;</b>&#22312; State &#20869;&#37096;&#19981;&#35201;&#28151;&#29992; en&#12289;du,ex&#31561;&#35821;&#21477;&#21644;&#27969;&#31243;&#22270;&#12290; &#22240;&#20026;&#36825;&#26679;&#25191;&#34892;&#39034;&#24207;&#19981;&#30452;&#35266;&#12290;</p><p>6.3~4 &#24314;&#35758;&#21516;&#19968;&#20010; state &#26368;&#22909;&#19981;&#35201;&#26377;&#22810;&#20010;&#20869;&#37096;&#36339;&#36716;&#12290; &#22914;&#26524;&#26377;&#22810;&#20010;&#20869;&#37096;&#36339;&#36716;&#65292; <b>&#24378;&#28872;&#24314;&#35758;</b> &#36339;&#36716;&#32447;&#25353;&#29031;&#20174;&#19978;&#21040;&#19979;&#30340;&#20248;&#20808;&#32423;&#35774;&#32622;&#12290;</p><h2 id="7">7 &#27969;&#31243;&#22270;&#22522;&#26412;&#35268;&#21017;</h2><p>7.1 <b>&#24378;&#28872;&#24314;&#35758;</b>&#36981;&#23432;&#22522;&#26412;&#35268;&#21017;&#65306;&#27969;&#31243;&#22270;&#30340;&#26465;&#20214;&#31661;&#22836;&#37117;&#27700;&#24179;&#65292;&#21160;&#20316;&#31661;&#22836;&#37117;&#31446;&#30452;&#65292;&#38500;&#20102;&#24490;&#29615;&#32467;&#26500;&#12290; &#31661;&#22836;&#35821;&#21477;&#21487;&#20197;&#26159;&#26465;&#20214;&#12289;condition action&#65292;&#19981;&#35201;&#22312;&#27969;&#31243;&#22270;&#37324;&#20351;&#29992; transition action&#12290;</p><p>7.2~4 <b>&#24378;&#28872;&#24314;&#35758;</b>&#24120;&#35265;&#30340;&#27969;&#31243;&#22270;&#20351;&#29992;&#20869;&#32622;&#30340;&#22522;&#26412;&#27169;&#24335;&#12290; &#19981;&#35201;&#20351;&#29992;&#24490;&#29615;&#26469;&#36827;&#34892;&#30697;&#38453;&#36816;&#31639;&#12290;</p><p>7.5 <b>&#24378;&#28872;&#24314;&#35758;</b>&#26377;&#19968;&#26465;&#19981;&#38656;&#35201;&#26465;&#20214;&#30340;&#20998;&#25903;&#36335;&#65292;&#38450;&#27490; backtracking&#12290; &#26080;&#26465;&#20214;&#25903;&#36335;&#20248;&#20808;&#32423;&#24517;&#39035;&#35774;&#32622;&#20026;&#26368;&#20302;&#12290; <a href="matlab:stateflow_unconditionflow">stateflow_unconditionflow</a></p><h2 id="8">8 &#27969;&#31243;&#22270;&#32454;&#33410;&#35268;&#21017;</h2><p>8.1 <b>&#24314;&#35758;</b>&#22312;&#27969;&#31243;&#22270;&#20989;&#25968;&#20013;&#65292;&#32473;&#26080;&#26465;&#20214;&#20998;&#25903;&#36335;&#32447;&#22686;&#21152;&#27880;&#37322;&#65292;&#26174;&#24335;&#35828;&#26126;&#19981;&#38656;&#35201;&#20219;&#20309;&#21160;&#20316;&#32780;&#19981;&#26159;&#24536;&#20102;&#28155;&#21152;&#12290;</p><p>8.2~4 <b>&#24314;&#35758;</b>&#21482;&#22312;&#19968;&#20010;&#22320;&#26041;&#32473;&#36820;&#22238;&#20540;&#36171;&#20540;&#12290; &#21478;&#22806;&#65292;&#27969;&#31243;&#22270;&#37324;&#26368;&#22909;&#21482;&#26377;&#19968;&#20010;&#32456;&#28857;Juntion&#65292;&#32780;&#19988;&#32456;&#28857; Junction &#19978;&#21482;&#26377;&#19968;&#26465;&#36339;&#36716;&#32447;&#12290; &#36825;&#26679;&#23601;&#27604;&#36739;&#28165;&#26970;&#30340;&#34920;&#31034;&#20986;&#27969;&#31243;&#22270;&#30340;&#32456;&#28857;&#22312;&#21738;&#37324;&#12290; <a href="matlab:stateflow_flowfcn">stateflow_flowfcn</a></p><h2 id="9">9 &#20107;&#20214;</h2><p>9.1  <b>&#27880;&#24847;</b>&#25152;&#26377;&#30340; Event &#37117;&#24517;&#39035;&#23450;&#20041;&#22312; chart &#23618;&#32423;&#20197;&#21450;&#20197;&#19979;&#65292;&#31105;&#27490;&#23450;&#20041;&#22312;&#27169;&#22411;&#23618;&#12290; &#19981;&#21516;&#30340;chart&#20043;&#38388;&#27809;&#26377;local&#20107;&#20214;&#30340;&#20132;&#20114;&#12290;09b&#20197;&#21518;&#20316;&#20026;&#32534;&#35793;&#38169;&#35823;&#20986;&#29616;&#12290;</p><p>9.2  <b>&#24314;&#35758;</b> Event &#20165;&#20165;&#20026; Function call&#23376;&#31995;&#32479;&#26469;&#20351;&#29992;&#12290;&#29366;&#24577;&#36716;&#31227;&#26465;&#20214;&#19981;&#24314;&#35758;&#20351;&#29992; Event&#12290; &#22914;&#26524;&#27809;&#26377;&#23436;&#20840;&#29702;&#35299; Event &#21407;&#29702;&#32780;&#23558;&#23427;&#20316;&#20026;&#29366;&#24577;&#36716;&#31227;&#26465;&#20214;&#30340;&#35805;&#65292;&#26080;&#24847;&#20013;&#20250;&#36896;&#25104;&#36882;&#24402;&#32780;&#22312;&#19968;&#20010;&#21608;&#26399;&#20869;&#22788;&#29702;&#20004;&#27425;&#12290;</p><p>9.3  <b>&#24314;&#35758;</b>&#22914;&#26524;&#35302;&#21457; Event &#30340; State &#36864;&#20986;&#26102;&#65292;&#38656;&#35201;&#23558;&#20107;&#20214;&#35843;&#29992;&#30340;&#23376;&#31995;&#32479;&#37325;&#32622;&#65292; &#21017;&#24314;&#35758;&#20351;&#29992; bind&#12290; <a href="matlab:ex_bind_fcn_call_subsys_to_state">ex_bind_fcn_call_subsys_to_state</a></p><p>9.4 <b>&#24378;&#28872;&#24314;&#35758;</b>&#25152;&#26377;&#26102;&#38388;&#30340;&#24191;&#25773;&#36981;&#23432;&#20197;&#19979;&#22522;&#26412;&#21407;&#21017;&#65306;</p><div><ul><li>&#21482;&#20801;&#35768;&#36827;&#34892;&#26041;&#21521;&#24615;&#30340;&#24191;&#25773;&#20107;&#20214;&#65292;&#20351;&#29992; send &#25110;&#32773; state.eventname&#12290;</li><li>&#22914;&#26524;&#35201;&#24191;&#25773;&#21040;&#22810;&#20010;&#29366;&#24577;&#65292;&#20351;&#29992;&#22810;&#20010; send &#35821;&#21477;&#12290;</li></ul></div><h2 id="10">10.Stateflow &#20869;&#30340;&#20989;&#25968;</h2><p>10.1  <b>&#24314;&#35758;</b>&#20989;&#25968;&#20989;&#25968;&#31867;&#22411;&#30340;&#36873;&#29992;&#22522;&#20110;&#20197;&#19979;&#22522;&#26412;&#21407;&#21017;&#65306;</p><div><ul><li>&#22914;&#26524;&#26159; if/then/else &#30340;&#36923;&#36753;&#65292;&#20351;&#29992; Graphical &#20989;&#25968;&#65307;</li><li>&#22914;&#26524;&#26159;&#20256;&#36882;&#20989;&#25968;&#65292;&#31215;&#20998;&#20197;&#21450;&#26597;&#34920;&#65292;&#20351;&#29992; Simulink &#20989;&#25968;&#65307;</li><li>&#22914;&#26524;&#26159;&#22797;&#26434;&#30340;&#26041;&#31243;&#25110;&#32773; if/then/else &#65292;&#21487;&#20197;&#20351;&#29992; MATLAB &#20989;&#25968;&#65307;</li></ul></div><p>10.2  <b>&#24314;&#35758;</b>&#26159;&#21542;&#22312; Stateflow &#37324;&#20351;&#29992; Simulink &#20989;&#25968;&#26102; &#38656;&#35201;&#32771;&#34385;&#28385;&#36275;&#36825;&#20123;&#26465;&#20214;&#65306;</p><div><ul><li>&#21482;&#20351;&#29992;&#21040;&#26412;&#22320;&#30340; chart &#25968;&#25454; &#25110;&#32773;&#36824;&#20351;&#29992;&#20174; simulink &#26469;&#30340;&#36755;&#20837;&#20449;&#21495;&#65307;</li><li>&#34987; chart &#20869;&#30340;&#22810;&#20010;&#22320;&#26041;&#35843;&#29992;&#21040;&#65307;</li><li>&#19981;&#20250;&#27599;&#20010;&#26102;&#38388;&#27493;&#37117;&#35843;&#29992;&#65292; <a href="matlab:stateflow_internalfunction">stateflow_internalfunction</a></li></ul></div><p>10.3  <b>&#24314;&#35758;</b>&#19981;&#35201;&#22312;&#20869;&#23884;&#30340;Simulink&#37324;&#20877;&#23884;Stateflow</p><p>10.3  <b>&#19968;&#23450;&#19981;&#35201;</b>&#22312; chart &#37324;&#20351;&#29992;ml.cos(wheelAng)&#36825;&#26679;&#35821;&#27861;&#26469;&#35843;&#29992;MATLAB&#20989;&#25968;</p><p><b>&#27880;&#24847;Function&#25918;&#32622;&#30340;&#20301;&#32622;&#65292;&#34920;&#31034;&#23427;&#26159;&#20840;&#23616;&#20989;&#25968;&#36824;&#26159;&#20869;&#23884;&#20989;&#25968;</b>  <a href="matlab:winopen('Stateflow_functioncallplace.jpg')">&#30475;&#22270;</a> <a href="matlab:Stateflow_SD104">Stateflow_SD104</a></p><h2 id="11">&#23450;&#28857;&#25968;</h2><div><ul><li>&#23450;&#28857;&#25968;&#35745;&#31639;&#26102;&#65292;&#20351;&#29992; := &#31526;&#21495;&#65288;C&#29615;&#22659;&#65289;&#65306; <a href="matlab:Stateflow_SDfixpoint">Stateflow_SDfixpoint</a></li><li>&#27599;&#19968;&#27425;&#21482;&#33021;&#26377;&#19968;&#20010;&#25805;&#20316;&#31526;&#65292; <a href="matlab:Stateflow_SDfixpoint2">Stateflow_SDfixpoint2</a></li></ul></div><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2016b</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Stateflow 建模参考
%
% 微信公众号：simscpae
%
%
% 根据 JMAABV4.01(201503)  整理
%
% * <https://www.mathworks.com/solutions/automotive/standards/maab.html>
%
% * Priority: Mandatory必须 / Strongly Recommended强烈建议 / recommended建议
% 
%% 5.1.变量设定
%
% *1.1 强烈建议*所有的 Stateflow 模块的输入输出端口名与对应的信号名相同，除非是重用的 Chart 。
%
% * 这只是为了提高模型的可读性，不影响代码生成，生成的代码的输入使用的是信号线上的数据对象。
% * 打开模型 <matlab:SF5_1_2_jc0700_2 SF5_1_2_jc0700_2>，生成代码，查看两个 chart 代码的变量名字。
%
% *1.2 强烈建议*未使用的数据不应该留在 Stateflow 模块里。
%
% * 打开模型： <matlab:SF5_1_2_jc0700_2 SF5_1_2_jc0700_2>，
% * 这里设置了两个没用到的变量：模型级别的 local，Chart级别的 data；
% <matlab:winopen('sfwl_sd23.png') 点我>。
% * 生成代码，可以看到 local 生成了冗余代码，而 data 变量并没有。
% * 另外诊断工具(2010b以后)： <matlab:winopen('stateflow_unusedData.jpg') 点我>，
% 可以诊断在 Stateflow 内的冗余变量 data，但是不包括 Stateflow 之外定义的 local。（测2016b不能判断出 data和local)
%
% 1.3 与 Simulink 的接口信号以及参数勾选强数据类型选项(09a之前) 
%
% * 打开模型： <matlab:SF5_1_3_db0122_3 SF5_1_3_db0122_3>，
% * 将 Chart 输入输出已指定的数据类型设置为继承，仿真会出错。
%
% *1.4 强烈建议*定义Stateflow 变量必须符合以下规范：
%
% * 所有的局部变量都必须定义在 Chart level及以下，
% 不要定义在模型级别 <matlab:winopen('stateflow_datadefine.jpg') 点我>
% * 不同的 chart 之间不要设置公共变量，除非常数和参数；
% * 嵌套层之间的变量定义不要使用相同名字。
%
% *1.5 Chart设置为C语法的时候，向量的默认从 0 开始，也可以设置为从 1 开始，*
% <matlab:winopen('stateflow_dataindex.jpg') 点我>。
% 默认从0开始。
%
% * 打开模型： <matlab:SF5_1_5_jc0701_1 SF5_1_5_jc0701_1>，
% * 上下两个 Chart 的代码完全一样，不同在于上面是 C 代码，下面是 M 代码，仿真查看结果；
% * 设置 C chart 的 param 变量的 First Index 属性为 1，再次查看结果。
%
% 1.6 建议参数以及常数不要在模型里直接使用数字。 
% 使用 '0'给变量赋初值，或者使用 '1' 作为自增或自减运算除外。
% <matlab:winopen('stateflow_param.jpg') 点我>
%
% *1.7 强烈建议* 在 Stateflow 里不应该使用指针来引用用户自定义代码里的变量。
% 尽量不要使用指引引用的方式来访问底层硬件，而是以信号的方式。
%
% * 打开源文件定义的变量和指针变量： <matlab:winopen('SF5_1_7_jm0011_NotUsePoint.h') SF5_1_7_jm0011_NotUsePoint.h>；
% <matlab:winopen('SF5_1_7_jm0011_NotUsePoint.c') SF5_1_7_jm0011_NotUsePoint.c>；
% * 打开模型： <matlab:SF5_1_7_jm0011_NotUsePoint SF5_1_7_jm0011_NotUsePoint>；
% 
% 这并不是说禁止在用户自定义代码里使用指针。
% Stateflow 里可以以引用的方式访问 C 代码里定义的变量。
% 但是使用模型内没有定义的信号，会影响模型的可读性。
% 所以虽然没有严格禁止使用指针，最好还是不要用。
%
%% 2.状态模型基本外观
%
% *2.1 强烈建议* 跳转箭头不要与其他模型元素交叉、重叠。
%
% 2.2 在任何一层，如果是互斥关系 *必须* 至少有两个互斥状态以上。
%
% 2.3 如果使用除法， *建议* 要有一定的流程避免除零的情况发生。
%
% *2.4 强烈建议* 默认跳转箭头符合以下规范
%
% * 位置放在最左上角的明显位置，
% <matlab:SF5_2_4_jc0531_2_A SF5_2_4_jc0531_2_A>；
% * 同一层禁止出现多个默认跳转箭头，
% <matlab:SF5_2_4_jc0531_2_B SF5_2_4_jc0531_2_B>；
% * 处于状态内部的默认箭头如果连在 Junction 上的话必须要有一个无条件路径到达某一个状态；
% 否则会出错：
% <matlab:SF5_2_4_jc0531_2_C SF5_2_4_jc0531_2_C>,
% 另外，可以通过设置诊断菜单来检查这个配置,
% <matlab:winopen('stateflow_diagnostic.jpg') 点我>。
%
% 2.5 *必须* 取消勾选 'Execute(enter) Chart At Initialization'。
%
% 2.6 建议限制单个视图里的状态层数。比如，限制在 3 层以内。
% 如果超出这个范围，就把内层做成 Subchart ，比如：
% <matlab:winopen('stateflow_layerNum.jpg') 点我>
%
% 2.7 建议限制单个视图内可见的状态个数，一般 6 到 9 个。
% <matlab:winopen('stateflow_stateNum.jpg') 点我>
%
% 2.8 当状态机难以在一个视图上表达清楚时，使用 Subshart 。
%
% *2.9 强烈建议* 不要为了进行状态分组而滥用并行状态。
% 比如这四个并行状态
% <matlab:winopen('stateflow_parastate.jpg') 点我>，
% 不要为了分组而增加多余的父状态：
% <matlab:winopen('stateflow_paramState2.jpg') 点我>
%
% 2.10 数据要定义在所使用的状态范围内，除非两个或多个并行状态需要用到同一个数据。
%
% *2.11 强烈建议* 禁止从外部状态直接跳转到子状态。
% 但是从子状态直接跳到外部父状态是可能的，
% <matlab:winopen('stateflow_transiton.jpg') 点我>。
% 这样考虑是因为容易割裂状态封装的概念，引起不必要的错误。
% 
%% 3.状态名
%
% 3.1 Chart 内的状态不能重名，但是 Atomic sub-chart可以视为单独的 chart。
% 也就是说同一个元胞子状态内部状态不能重名，不同的元胞子状态内部可以有相同的名字。
% <matlab:stateflow_uniqueStatename stateflow_uniqueStatename>。
%
% 3.2 状态名字不能包含/号。
%
% *3.3 强烈建议* 状态名与变量名不得相同。
% <matlab:winopen('stateflow_statename.jpg') 点我>
%
% 3.4 状态内en、du以及ex必须按照这个顺序来写。如果有组合的比如en,du，则写在最上面或者最下面。
% <matlab:winopen('stateflow_actionorder.jpg') 点我>
%
% 3.5 建议同种类型的命令语句只写一遍。
% <matlab:winopen('stateflow_action.jpg') 点我>
%
% 3.6 建议不要使用exit，如果可以替换成对应的entry。
% 明确显示出将会在什么状态下执行该语句。
%
% 3.7~12 一些状态语句的书写规范：
% <matlab:stateflow_stateLanguage stateflow_stateLanguage>。
%
% 3.13 用于状态跳转判断的变量，建议不要使用 du 来更新。
% 因为 du 语句是在当前跳转判断失败，返回状态后才会执行。
% 所以会造成，跳转条件满足后延迟一个采样时间步才跳转。
% <matlab:stateflow_transitionUpdate stateflow_transitionUpdate>。
%% 4.条件以及条件语句
%
% 4.1 *强烈建议*写Action语句时，三个以内的运算符可以写在一行，超出三个则分行写，并注意运算符对齐。
% 如果涉及到不同运算符，则需要用括号显式注明优先级。
% <matlab:Stateflow_action Stateflow_action>
% 如果相同的复杂条件被多次调用，可以考虑做成一个 flow graph function。
%
% 4.2 *建议*条件与执行语句的放置位置需要模型内统一，推荐写在跳转箭头的靠近起点端，也可以写在跳转箭头中间。
% 目的就是明确显示出条件/执行语句的归属，并且风格统一。
%
% 4.3 *建议*跳转箭头的注释语句可以放在条件/执行语句的上部。
%
% 4.4 *严格保证*除了最后一个箭头，需要注意迁移条件的设置。
% <matlab:Stateflow_actioncondition Stateflow_actioncondition>
%
% 4.5 *推荐*写执行语句的时候，前后括号单独在一行，每一句执行语句各占一行并后加;号。
% <matlab:Stateflow_actioncondition Stateflow_actioncondition>
%
%% 5 状态迁移
%
% 5.1 *建议*状态之间的跳转箭头要么垂直要么水平：
% <matlab:Stateflow_statetransition Stateflow_statetransition>
% 为了更明显表示逻辑关系，可以用 Junction 将箭头分段，水平箭头一般写条件，垂直一般写 Action。
% 跳转箭头 *千万不要*超出 parent state 的边界,会导致 parent state 意外的重启。
%  <matlab:Stateflow_actionlineerror Stateflow_actionlineerror>
%
% 5.2 *必须保证*没有跳转回流(Backtracking)：
% <matlab:Stateflow_statebacktracking Stateflow_statebacktracking>
%
% 5.3~5 *建议*不要用 transition Action， *强烈建议*不要混用 conditon action与transition
% action。
% <matlab:Stateflow_action2 Stateflow_action2>
%
% 5.6 *强烈建议*数据比较只在相同数据类型之间进行。需要对比不同数据类型是，使用显示的数据转换 int16(i)。
% 注意无符号整形不要和负数比较。
%
% 5.7 *强烈建议不要直接对比两个浮点数相等。*
%
% * 不要直接对比两个浮点数相等，比如 var1 == var2,var1 ~=var2,var1 ~=var2, 
% 而是使用差值小于某一个极小值的方式。直接比较只可用于整形之间。
%
% 5.8 *强烈建议位运算符&，|，^，~只能用于位运算。避免对有符号整形使用位运算。*
%
% * 使用之前，在chart属性里勾选 *Enable C-bit operations*
% * 布尔操作使用 &&，||
% *  如图： <matlab:winopen('stateflow_bitopp.jpg') 点我>
%
% 5.9 *强烈建议禁止对逻辑量进行比较运算*
%
% * 禁止对布尔量进行逻辑操作。布尔类型的数据禁止与数字(0,1)或者逻辑值(true, false)比较运算。
% 而是使用 NOT之类的布尔运算符，~ 或者 ！。
% *  如图： <matlab:winopen('stateflow_bitoppBoolean.jpg') 点我>
%
% 5.10 *强烈建议注意不要对无符号整形取负号*
%
% 5.11~13 a++，自加或者自减 *必须要单独写为一个 action*
%
% 而且条件里必须是布尔量。
% <matlab:stateflow_incrementsaction stateflow_incrementsaction>
%
% 5.14 建议在同一个State内不要重用变量
% <matlab:stateflow_reuseVariable stateflow_reuseVariable>
%
% 5.15 建议不要直接使用函数表达式作为比较值
% <matlab:stateflow_function stateflow_function>
%
% *使用事件逻辑与计数器*
% <matlat:winopen('Stateflow_time.jpg') 看图>。
%
% *有多个跳转时，根据跳转的可能性大小进行执行顺序排序，具有高安全优先级检查项排在前面*
% <matlat:winopen('Stateflow_transitionpriority.jpg') 看图>。
%
% 比如图中的 SteadyCruise 是最可能的情况，但是因为 PlanelsCrashing 具有高优先级，所以排在前面。
% 另外，这种情况，把 PlanelsCrashing当做事件更合适。
%
%% 6 状态内部跳转
%
% <matlab:stateflow_internaltransition stateflow_internaltransition>
%
% 6.1 *强烈建议*所有的状态的内部跳转连线必须在 State 框线的左侧面。
%
% 6.2 *强烈建立*在 State 内部不要混用 en、du,ex等语句和流程图。
% 因为这样执行顺序不直观。
%
% 6.3~4 建议同一个 state 最好不要有多个内部跳转。
% 如果有多个内部跳转， *强烈建议* 跳转线按照从上到下的优先级设置。
% 
%
%% 7 流程图基本规则
%
% 7.1 *强烈建议*遵守基本规则：流程图的条件箭头都水平，动作箭头都竖直，除了循环结构。
% 箭头语句可以是条件、condition action，不要在流程图里使用 transition action。
%
% 7.2~4 *强烈建议*常见的流程图使用内置的基本模式。
% 不要使用循环来进行矩阵运算。
%
% 7.5 *强烈建议*有一条不需要条件的分支路，防止 backtracking。
% 无条件支路优先级必须设置为最低。
% <matlab:stateflow_unconditionflow stateflow_unconditionflow>
%
%% 8 流程图细节规则
%
% 8.1 *建议*在流程图函数中，给无条件分支路线增加注释，显式说明不需要任何动作而不是忘了添加。
%
% 8.2~4 *建议*只在一个地方给返回值赋值。 
% 另外，流程图里最好只有一个终点Juntion，而且终点 Junction 上只有一条跳转线。
% 这样就比较清楚的表示出流程图的终点在哪里。
% <matlab:stateflow_flowfcn stateflow_flowfcn>
%% 9 事件
%
% 9.1  *注意*所有的 Event 都必须定义在 chart 层级以及以下，禁止定义在模型层。
% 不同的chart之间没有local事件的交互。09b以后作为编译错误出现。
%
% 9.2  *建议* Event 仅仅为 Function call子系统来使用。状态转移条件不建议使用 Event。
% 如果没有完全理解 Event 原理而将它作为状态转移条件的话，无意中会造成递归而在一个周期内处理两次。
%
% 9.3  *建议*如果触发 Event 的 State 退出时，需要将事件调用的子系统重置，
% 则建议使用 bind。
% <matlab:ex_bind_fcn_call_subsys_to_state ex_bind_fcn_call_subsys_to_state>
%
% 9.4 *强烈建议*所有时间的广播遵守以下基本原则：
%
% * 只允许进行方向性的广播事件，使用 send 或者 state.eventname。
% * 如果要广播到多个状态，使用多个 send 语句。
%
%% 10.Stateflow 内的函数
%
% 10.1  *建议*函数函数类型的选用基于以下基本原则：
%
% * 如果是 if/then/else 的逻辑，使用 Graphical 函数；
% * 如果是传递函数，积分以及查表，使用 Simulink 函数；
% * 如果是复杂的方程或者 if/then/else ，可以使用 MATLAB 函数；
%
% 10.2  *建议*是否在 Stateflow 里使用 Simulink 函数时
% 需要考虑满足这些条件：
%
% * 只使用到本地的 chart 数据 或者还使用从 simulink 来的输入信号；
% * 被 chart 内的多个地方调用到；
% * 不会每个时间步都调用，
% <matlab:stateflow_internalfunction stateflow_internalfunction>
%
% 10.3  *建议*不要在内嵌的Simulink里再嵌Stateflow
%
% 10.3  *一定不要*在 chart 里使用ml.cos(wheelAng)这样语法来调用MATLAB函数
%
% *注意Function放置的位置，表示它是全局函数还是内嵌函数*
%  <matlab:winopen('Stateflow_functioncallplace.jpg') 看图>
% <matlab:Stateflow_SD104 Stateflow_SD104>
%% 定点数
%
% * 定点数计算时，使用 := 符号（C环境）：
% <matlab:Stateflow_SDfixpoint Stateflow_SDfixpoint>
% * 每一次只能有一个操作符，
% <matlab:Stateflow_SDfixpoint2 Stateflow_SDfixpoint2>
##### SOURCE END #####
--></body></html>